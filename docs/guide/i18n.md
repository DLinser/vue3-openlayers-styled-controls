# 国际化

Vue3 OpenLayers Styled Controls 支持国际化，可以轻松适配不同语言环境。

## 默认语言

组件库默认提供以下语言支持：

- 简体中文 (zh-CN)
- 英文 (en)

## 使用方式

### 1. 无需配置（默认行为）

组件库内置了默认的中英文翻译，即使您不进行任何国际化配置，组件也会正常显示默认语言（中文）的提示信息。

```js
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import OpenLayersControls from 'vue3-openlayers-styled-controls'

const app = createApp(App)

// 不进行任何国际化配置，组件将默认显示中文
app.use(OpenLayersControls)
app.mount('#app')
```

```vue
<template>
  <!-- 即使没有配置 i18n，组件也会显示中文提示 -->
  <ol-styled-zoom-in-control />
  <ol-styled-zoom-out-control />
</template>
```

### 2. 配置默认语言

您可以在安装插件时配置默认语言：

```js
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import OpenLayersControls from 'vue3-openlayers-styled-controls'

const app = createApp(App)

// 配置默认语言为英文
app.use(OpenLayersControls, {
  locale: 'en'
})

app.mount('#app')
```

### 3. 自定义语言资源

如果您需要自定义语言资源或添加更多语言：

```js
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import OpenLayersControls from 'vue3-openlayers-styled-controls'

const app = createApp(App)

// 配置自定义语言
app.use(OpenLayersControls, {
  locale: 'fr', // 设置默认语言为法语
  messages: {
    fr: {
      zoomIn: {
        title: 'Zoom avant'
      },
      zoomOut: {
        title: 'Zoom arrière'
      },
      fullScreen: {
        enter: 'Plein écran',
        exit: 'Quitter le plein écran'
      },
      measureLength: {
        title: 'Mesurer la distance',
        stop: 'Arrêter la mesure',
        startHelp: 'Cliquez pour commencer à dessiner',
        continueHelp: 'Cliquez pour continuer à dessiner la ligne'
      },
      measureArea: {
        title: 'Mesurer la surface',
        stop: 'Arrêter la mesure',
        startHelp: 'Cliquez pour commencer à dessiner',
        continueHelp: 'Cliquez pour continuer à dessiner le polygone',
        squareMeters: 'mètres carrés',
        squareKilometers: 'kilomètres carrés'
      },
      clear: {
        title: 'Effacer'
      },
      swipe: {
        title: 'Balayage'
      },
      baseLayerSwitcher: {
        title: 'Changer de fond de carte'
      }
    }
  }
})

app.mount('#app')
```

## 在组件中使用

组件库中的控件会自动使用配置的语言：

```vue
<template>
  <!-- 控件会自动显示对应语言的 title -->
  <ol-styled-zoom-in-control />
  <ol-styled-zoom-out-control />
  <ol-styled-full-screen-control />
</template>
```

## 动态切换语言

您也可以在运行时动态切换语言：

```js
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import OpenLayersControls, { createI18n } from 'vue3-openlayers-styled-controls'

const app = createApp(App)

// 安装插件
app.use(OpenLayersControls, {
  locale: 'zh-CN'
})

app.mount('#app')

// 在需要的时候动态切换语言
function switchToEnglish() {
  const i18n = createI18n({ locale: 'en' })
  OpenLayersControls.setGlobalI18n(i18n)
  // 注意：组件不会自动重新渲染，您可能需要手动触发更新
}

function switchToChinese() {
  const i18n = createI18n({ locale: 'zh-CN' })
  OpenLayersControls.setGlobalI18n(i18n)
  // 注意：组件不会自动重新渲染，您可能需要手动触发更新
}
```

## 扩展语言支持

如果您需要添加更多语言支持，可以通过以下方式：

```js
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import OpenLayersControls from 'vue3-openlayers-styled-controls'

const app = createApp(App)

// 添加西班牙语支持
app.use(OpenLayersControls, {
  locale: 'es', // 设置默认语言为西班牙语
  messages: {
    es: {
      zoomIn: {
        title: 'Acercar'
      },
      zoomOut: {
        title: 'Alejar'
      },
      fullScreen: {
        enter: 'Pantalla completa',
        exit: 'Salir de pantalla completa'
      },
      measureLength: {
        title: 'Medir distancia',
        stop: 'Detener medición'
      },
      measureArea: {
        title: 'Medir área',
        stop: 'Detener medición'
      },
      clear: {
        title: 'Limpiar'
      },
      swipe: {
        title: 'Deslizar'
      },
      baseLayerSwitcher: {
        title: 'Cambiar capa base'
      }
    }
  }
})

app.mount('#app')
```

## 实现原理

组件库使用了一种灵活的国际化实现方式：

1. **内置默认翻译**：组件库内置了中英文翻译，默认使用中文作为显示语言
2. **插件配置**：在安装插件时可以通过 options 参数配置默认语言和自定义翻译
3. **全局状态管理**：通过全局状态管理语言配置，所有组件共享同一份语言配置
4. **无依赖设计**：不强制依赖 vue-i18n，用户可以自由选择是否使用更复杂的国际化方案

这种实现方式确保了：
- 组件库在任何环境下都能正常工作
- 为需要国际化支持的项目提供了简单易用的配置方式
- 不强制使用者必须安装和配置额外的依赖
- 支持运行时动态切换语言